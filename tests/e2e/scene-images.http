### Generate Scene Image - Basic Example
POST http://localhost:8080/api/books/123/scene-image
Content-Type: application/json

{
  "text": "El amanecer tiñe de naranja la biblioteca circular; estanterías de roble llegan al techo, polvo en suspensión, vitrales proyectan figuras geométricas sobre el suelo de mármol.",
  "style": "photorealistic",
  "seed": 42,
  "return_base64": false,
  "size": "4096x2048"
}

### Generate Scene Image - Fantasy Style
POST http://localhost:8080/api/books/456/scene-image
Content-Type: application/json

{
  "text": "Un bosque encantado donde los árboles susurran secretos antiguos, hongos luminiscentes iluminan el sendero serpenteante, y pequeñas luces mágicas danzan entre las ramas.",
  "style": "fantasy illustration",
  "seed": 100,
  "return_base64": false,
  "size": "2048x1024"
}

### Generate Scene Image - With Base64 Response
POST http://localhost:8080/api/books/789/scene-image
Content-Type: application/json

{
  "text": "Una taberna medieval llena de humo, donde aventureros de todas las razas comparten historias junto al fuego crepitante, mientras el bardo toca su laúd en la esquina.",
  "style": "digital painting",
  "return_base64": true,
  "size": "4096x2048"
}

### Generate Scene Image - Minimal Request
POST http://localhost:8080/api/books/111/scene-image
Content-Type: application/json

{
  "text": "Una nave espacial atraviesa el vacío estelar, con nebulosas coloridas de fondo y planetas distantes brillando como joyas en la oscuridad infinita."
}

### Get Book Scene Generations
GET http://localhost:8080/api/books/123/scene-generations

### Get Book Generation Count
GET http://localhost:8080/api/books/123/scene-generations/count

### Test Error Cases

# Invalid Text (too short)
POST http://localhost:8080/api/books/123/scene-image
Content-Type: application/json

{
  "text": "Corto"
}

# Invalid Size (not 2:1 ratio)
POST http://localhost:8080/api/books/123/scene-image
Content-Type: application/json

{
  "text": "El amanecer tiñe de naranja la biblioteca circular con estanterías de roble",
  "size": "1920x1080"
}

# Non-existent Book
POST http://localhost:8080/api/books/nonexistent/scene-image
Content-Type: application/json

{
  "text": "El amanecer tiñe de naranja la biblioteca circular con estanterías de roble"
}
